{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\StraussExercise\\\\StraussFullStackTask-frontend\\\\src\\\\components\\\\CandidatesPage\\\\CandidatesList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { getCandidatesService } from \"../../api/apiServices\";\nimport CandidateItem from \"./CandidateItem\";\nimport SearchBar from \"./SearchAndFilter/SearchBar\";\nimport classes from \"./CandidatesList.module.css\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst CandidatesList = ({\n  token\n}) => {\n  const [candidates, setCandidates] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 9;\n  useEffect(() => {\n    setIsLoading(true);\n\n    const fetchCandidates = async () => {\n      try {\n        const res = await getCandidatesService(token);\n        console.log(\"respond: \", res);\n        setCandidates(res.candidates);\n      } catch (err) {\n        console.log(\"error: \", err);\n      }\n\n      setIsLoading(false);\n    };\n\n    fetchCandidates();\n  }, [token]); // filter candidates based on the search query\n\n  const filteredCandidates = candidates.filter(candidate => {\n    const fullName = `${candidate.first_name} ${candidate.last_name}`.toLowerCase();\n    return fullName.includes(searchQuery.toLowerCase());\n  });\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const candidatesToDisplay = filteredCandidates.slice(startIndex, endIndex);\n\n  const handlePageChange = eventpage => {\n    setCurrentPage(page);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isLoading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    className: classes[\"circular-progress\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"candidate-list-container\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    onSearch: setSearchQuery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes[\"candidate-list\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, candidatesToDisplay.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"Candidate didn't found...\") : candidatesToDisplay.filter(candidate => candidate.first_name !== null).map(candidate => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: candidate.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: classes.list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CandidateItem, {\n      candidate: candidate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 27\n      }\n    }))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: Math.ceil(filteredCandidates.length / itemsPerPage),\n    variant: \"outlined\",\n    page: currentPage,\n    onChange: handlePageChange,\n    color: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default CandidatesList;","map":{"version":3,"sources":["D:/Projects/StraussExercise/StraussFullStackTask-frontend/src/components/CandidatesPage/CandidatesList.js"],"names":["React","useEffect","useState","getCandidatesService","CandidateItem","SearchBar","classes","Pagination","CircularProgress","CandidatesList","token","candidates","setCandidates","isLoading","setIsLoading","searchQuery","setSearchQuery","currentPage","setCurrentPage","itemsPerPage","fetchCandidates","res","console","log","err","filteredCandidates","filter","candidate","fullName","first_name","last_name","toLowerCase","includes","startIndex","endIndex","candidatesToDisplay","slice","handlePageChange","eventpage","page","length","map","id","list","pagination","Math","ceil"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getCandidatesService } from \"../../api/apiServices\";\nimport CandidateItem from \"./CandidateItem\";\nimport SearchBar from \"./SearchAndFilter/SearchBar\";\nimport classes from \"./CandidatesList.module.css\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst CandidatesList = ({ token }) => {\n  const [candidates, setCandidates] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 9;\n\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchCandidates = async () => {\n      try {\n        const res = await getCandidatesService(token);\n        console.log(\"respond: \", res);\n        setCandidates(res.candidates);\n      } catch (err) {\n        console.log(\"error: \", err);\n      }\n      setIsLoading(false);\n    };\n\n    fetchCandidates();\n  }, [token]);\n\n  // filter candidates based on the search query\n  const filteredCandidates = candidates.filter((candidate) => {\n    const fullName =\n      `${candidate.first_name} ${candidate.last_name}`.toLowerCase();\n    return fullName.includes(searchQuery.toLowerCase());\n  });\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const candidatesToDisplay = filteredCandidates.slice(startIndex, endIndex);\n\n  const handlePageChange = (eventpage) => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <>\n      {isLoading ? (\n        <CircularProgress className={classes[\"circular-progress\"]} />\n      ) : (\n        <div className={classes[\"candidate-list-container\"]}>\n          <SearchBar onSearch={setSearchQuery} />\n          <div className={classes[\"candidate-list\"]}>\n            {candidatesToDisplay.length === 0 ? (\n              <p>Candidate didn't found...</p>\n            ) : (\n              candidatesToDisplay\n                .filter((candidate) => candidate.first_name !== null)\n                .map((candidate) => {\n                  return (\n                    <div key={candidate.id}>\n                      <ul className={classes.list}>\n                        <li>\n                          <CandidateItem candidate={candidate} />\n                        </li>\n                      </ul>\n                    </div>\n                  );\n                })\n            )}\n          </div>\n          <div className={classes.pagination}>\n            <Pagination\n              count={Math.ceil(filteredCandidates.length / itemsPerPage)}\n              variant=\"outlined\"\n              page={currentPage}\n              onChange={handlePageChange}\n              color=\"standard\"\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default CandidatesList;\n"]},"metadata":{},"sourceType":"module"}